import pytest

from app.handlers.user.women_check_number import format_phone_number


class TestPhoneNumber:
    @pytest.mark.parametrize('phone_number, expected',
                             [
                                 ('7 993 698 85 65', '8 993 698 85 65'),
                                 ('+8-999-685-43-54', '8 999 685 43 54'),
                                 ('9998677586', '8 999 867 75 86'),
                                 ('8 999 999 99 99', '8 999 999 99 99'),
                                 ('+7 (999) 999-99-99', '8 999 999 99 99'),
                                 ('8(999)999-99-99', '8 999 999 99 99'),
                                 ('8-999-999-99-99', '8 999 999 99 99'),
                                 ('8 999-999-99-99', '8 999 999 99 99'),
                                 ('89999999999', '8 999 999 99 99'),
                                 ('8 999 9999999', '8 999 999 99 99'),
                                 ('8999 999 99 99', '8 999 999 99 99'),
                                 ('+7 999 999 99 99', '8 999 999 99 99'),
                                 ('8 999 999 9999', '8 999 999 99 99'),
                                 ('8 999-9999999', '8 999 999 99 99'),
                                 ('999-999-99-99', '8 999 999 99 99'),
                                 ('999 999 99 99', '8 999 999 99 99'),
                                 ('8.999.999.99.99', '8 999 999 99 99'),
                                 ('8 999 999 99-99', '8 999 999 99 99'),
                                 ('8 999 999.99.99', '8 999 999 99 99'),
                                 ('8 999-999 99 99', '8 999 999 99 99'),
                                 ('+7 999-999-9999', '8 999 999 99 99'),
                                 ('+79999999999', '8 999 999 99 99'),
                                 ('8 999 999 99-99', '8 999 999 99 99'),
                                 ('+7 (999) 999 99 99', '8 999 999 99 99'),
                                 ('999 999 9999', '8 999 999 99 99'),
                                 ('8 999 99999 99', '8 999 999 99 99'),
                                 ('8-999-999-99-99', '8 999 999 99 99'),
                                 ('+7-999-999-99-99', '8 999 999 99 99'),
                                 ('9999999999', '8 999 999 99 99'),
                                 ('8 999.999.9999', '8 999 999 99 99'),
                                 ('8 999 999 999', 'Ошибка! Введите номер в верном формате.'),
                                 ('+7-999-999-999-99', 'Ошибка! Введите номер в верном формате.'),
                                 ('+7 9999 99 999', 'Ошибка! Введите номер в верном формате.'),
                                 ('+7 9999 99 9999', '8 999 999 99 99')
                             ])
    def test_format_phone_number(self, phone_number, expected):
        assert format_phone_number(phone_number) == expected